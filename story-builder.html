<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A fun and interactive game with customizable rules and a beautiful design.">
        <title>Story Builder</title>
        <link rel="stylesheet" href="css/story-builder.css">
        <link rel="stylesheet" href="css/shared.css">
        <!-- Include Patrick Hand font from Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
    </head>
    <body>
        <header class="share-header">
            <a href="the-learning-spot.html" class="home-button" aria-label="Home">
                <img src="img/the-learning-spot-logo-rectangle.png" alt="The Learning Spot Home" />
            </a>
            <button id="share-btn" class="share-btn" aria-label="Share game link">
                <div class="share-icon">üì§</div>
                <div class="share-label">Share</div>
            </button>
        </header>

        <h1>üìñ Story Builder üß©</h1>

        <!-- Share Modal -->
        <div id="shareModal" class="share-modal">
            <div class="modal-content">
                <span id="closeModal" class="close-btn">&times;</span>
                <p>Copy this game link:</p>
                <input type="text" id="gameLink" readonly>
                <button onclick="copyGameLink()">Copy</button>
                <div id="copyConfirm" class="copy-confirm">Link copied!</div>
            </div>
        </div>


        <div id="game-container">
            <div id="rules-screen">
                <h2>Let's play!</h2>
                <ol>
                    <li><strong>Tap the blanks</strong> in the sentence to spin for new words!<br>
                        You'll pick a <em>character</em>, an <em>action</em>, and a <em>place</em>.
                    </li>
                    <li><strong>Watch the magic happen!</strong><br>
                    </li>
                    <li> When you‚Äôre ready, <strong>click üîä.</strong><br>
                    </li>
                    <li><strong>Play again and again!</strong> Every spin makes a brand-new silly story.
                    </li>
                </ol>
                <button class="start-btn" id="start-btn" aria-label="Start the game">Start Game</button>
            </div>

            <div id="book-layout" class="closed-book" style="display: none">
                <div id="left-page" class="book-page left-page" style="display: none">
                    <div class="sentence" id="sentence" style="display: none">
                        The
                        <span class="blank" id="subject"><span class="blank-text">___</span><div class="progress-bar"></div></span>
                        <span class="blank" id="verb"><span class="blank-text">___</span><div class="progress-bar"></div></span>
                        <br>
                        <span id="preposition"><span class="blank-text">in</span></span>
                        the
                        <span class="blank" id="place"><span class="blank-text">___</span><div class="progress-bar"></div></span>.
                    </div>
                </div> 
                <div id="right-page" class="book-page right-page" style="display: none">
                    <img id="subject-image" src="" alt="Subject illustration" />
                    <img id="place-image" src="" alt="Place background" />
                </div>
            </div>           
            
            <div id="reading-screen" class="reading-screen" style="display: none;">
                <div class="reading-content">
                    <p class="highlighted-sentence"></p>
                </div>
            </div>
            
            <div class="button-row">
                <button class="start-btn" id="read-btn" style="display: none" disabled>üîä</button>
                <button class="start-btn" id="next-btn" aria-label="Next page" style="display: none" disabled>‚û°Ô∏è</button>
            </div>            
        </div>

        <script src="js/story-builder.js"></script>
        <script src="/js/share-button.js" defer></script>
    </body>
</html>